<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerenciamento de Cards</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .admin-section {
      margin-top: 20px;
    }

    .card-list {
      margin-top: 20px;
    }

    .form-section {
      margin-top: 20px;
    }
  </style>
</head>

<body>
  <div class="container">

    <!-- Seção de Admin -->
    <div class="admin-section">
      <ul class="nav nav-tabs" id="adminTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="add-tab" data-bs-toggle="tab" data-bs-target="#add" type="button" role="tab">Adicionar</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="edit-tab" data-bs-toggle="tab" data-bs-target="#edit" type="button" role="tab">Alterar</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="delete-tab" data-bs-toggle="tab" data-bs-target="#delete" type="button" role="tab">Excluir</button>
        </li>
      </ul>

      <div class="tab-content" id="adminTabContent">
        <!-- Aba Adicionar -->
        <div class="tab-pane fade show active" id="add" role="tabpanel">
          <div class="form-section">
            <h4>Adicionar Card</h4>
            <form id="addForm">
              <div class="mb-3">
                <label for="addType" class="form-label">Tipo de Card</label>
                <select id="addType" class="form-select">
                  <option value="Loja">Loja</option>
                  <option value="Eventos">Eventos</option>
                  <option value="Noticias">Notícias</option>
                  <option value="Reportagens">Reportagens</option>
                  <option value="Trabalhos">Trabalhos Acadêmicos</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="addTitle" class="form-label">Título</label>
                <input type="text" id="addTitle" class="form-control">
              </div>
              <div class="mb-3">
                <label for="addDescription" class="form-label">Descrição</label>
                <textarea id="addDescription" class="form-control"></textarea>
              </div>
              <button type="submit" class="btn btn-primary">Adicionar</button>
            </form>
          </div>
        </div>

        <!-- Aba Alterar -->
        <div class="tab-pane fade" id="edit" role="tabpanel">
          <div class="form-section">
            <h4>Alterar Card</h4>
            <form id="editForm">
              <div class="mb-3">
                <label for="editType" class="form-label">Tipo de Card</label>
                <select id="editType" class="form-select">
                  <option value="Loja">Loja</option>
                  <option value="Eventos">Eventos</option>
                  <option value="Noticias">Notícias</option>
                  <option value="Reportagens">Reportagens</option>
                  <option value="Trabalhos">Trabalhos Acadêmicos</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="editIndex" class="form-label">Index do Card</label>
                <input type="number" id="editIndex" class="form-control">
              </div>
              <div class="mb-3">
                <label for="editTitle" class="form-label">Novo Título</label>
                <input type="text" id="editTitle" class="form-control">
              </div>
              <div class="mb-3">
                <label for="editDescription" class="form-label">Nova Descrição</label>
                <textarea id="editDescription" class="form-control"></textarea>
              </div>
              <button type="submit" class="btn btn-warning">Alterar</button>
            </form>
          </div>
        </div>

        <!-- Aba Excluir -->
        <div class="tab-pane fade" id="delete" role="tabpanel">
          <div class="form-section">
            <h4>Excluir Card</h4>
            <form id="deleteForm">
              <div class="mb-3">
                <label for="deleteType" class="form-label">Tipo de Card</label>
                <select id="deleteType" class="form-select">
                  <option value="Loja">Loja</option>
                  <option value="Eventos">Eventos</option>
                  <option value="Noticias">Notícias</option>
                  <option value="Reportagens">Reportagens</option>
                  <option value="Trabalhos">Trabalhos Acadêmicos</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="deleteIndex" class="form-label">Index do Card</label>
                <input type="number" id="deleteIndex" class="form-control">
              </div>
              <button type="submit" class="btn btn-danger">Excluir</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Listagem de Cards -->
    <div class="card-list">
      <h3>Cards</h3>
      <div id="cardContainer" class="row row-cols-1 row-cols-md-3 g-4">
        <!-- Os cards serão inseridos aqui dinamicamente -->
      </div>
    </div>
  </div>

  <script>
    const cardContainer = document.getElementById('cardContainer');
    const cards = {
      Loja: [],
      Eventos: [],
      Noticias: [],
      Reportagens: [],
      Trabalhos: []
    };

    // Função para renderizar os cards
    function renderCards() {
      cardContainer.innerHTML = '';
      Object.keys(cards).forEach(type => {
        cards[type].forEach((card, index) => {
          cardContainer.innerHTML += `
            <div class="col">
              <div class="card h-100">
                <div class="card-body">
                  <h5 class="card-title">${card.titulo} - (${type})</h5>
                  <p class="card-text">${card.descricao}</p>
                  <p class="text-muted">Index: ${index}</p>
                </div>
              </div>
            </div>`;
        });
      });
    }

    // Adicionar card
    document.getElementById('addForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const type = document.getElementById('addType').value;
      const titulo = document.getElementById('addTitle').value;
      const descricao = document.getElementById('addDescription').value;

      if (titulo && descricao) {
        cards[type].push({ titulo, descricao });
        renderCards();
        alert('Card adicionado com sucesso!');
      } else {
        alert('Preencha todos os campos.');
      }
    });

    // Alterar card
    document.getElementById('editForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const type = document.getElementById('editType').value;
      const index = parseInt(document.getElementById('editIndex').value);
      const titulo = document.getElementById('editTitle').value;
      const descricao = document.getElementById('editDescription').value;

      if (cards[type][index]) {
        cards[type][index] = { titulo, descricao };
        renderCards();
        alert('Card alterado com sucesso!');
      } else {
        alert('Index inválido.');
      }
    });

    // Excluir card
    document.getElementById('deleteForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const type = document.getElementById('deleteType').value;
      const index = parseInt(document.getElementById('deleteIndex').value);

      if (cards[type][index]) {
        cards[type].splice(index, 1);
        renderCards();
        alert('Card excluído com sucesso!');
      } else {
        alert('Index inválido.');
      }
    });

    renderCards(); // Renderiza os cards iniciais (se houver)
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
